---
name: graphql-schema-design
description: GraphQLスキーマ設計と運用時の注意点を整理する。
---
# GraphQL Schema Design

## いつ使うか
- GraphQL APIの設計/導入
- スキーマの拡張や整理を行う時

## 参照ルール（最優先）
- `.cursor/rules/09-integration-and-api-contracts.mdc`
- `.cursor/rules/23-security-policy.mdc`

## 要点
- 型安全性を中心にスキーマを設計する
- クエリは最小限のフィールド取得を前提にする
- N+1問題やバリデーションを考慮する
- 既存チュートリアルがアーカイブされている場合は最新系列に置き換える

## チェックリスト
- スカラー/オブジェクト/ユニオンの責務が明確
- フラグメントで再利用性が確保されている
- バリデーションルールが設計されている
- N+1対策が用意されている
- イントロスペクションの公開範囲が判断されている

## 出力テンプレ
1. 型設計の方針
2. 主要クエリ/ミューテーション
3. バリデーションとパフォーマンス対策
4. 運用時の制約
